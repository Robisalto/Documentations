<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<!-- Mirrored from linux.risr17.aezi.fr/1-installation-de-base-Debian.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Jul 2018 09:08:17 GMT -->
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Installation d’un serveur Debian</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="doctitle">Installation d’un serveur Debian</div>
<nav id="TOC">
<ul>
<li><a href="#installation-de-base-sur-un-serveur-debian">Installation de base sur un serveur Debian</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#pendant-linstallation">Pendant l’installation</a><ul>
<li><a href="#utilisation-de-tasksel">Utilisation de tasksel</a></li>
</ul></li>
<li><a href="#installation-sudo">Installation sudo</a></li>
<li><a href="#installation-ne">Installation ne</a><ul>
<li><a href="#pour-les-systèmes-installés-à-partir-des-dvd">Pour les systèmes installés à partir des DVD</a></li>
<li><a href="#mise-à-jour-apt">Mise à jour apt</a></li>
<li><a href="#installation">Installation</a></li>
</ul></li>
</ul></li>
<li><a href="#arrêt-du-système">Arrêt du système</a><ul>
<li><a href="#commande-darrêt">Commande d’arrêt</a><ul>
<li><a href="#alternative">Alternative</a></li>
</ul></li>
<li><a href="#commande-de-redémarrage">Commande de redémarrage</a><ul>
<li><a href="#alternative-1">Alternative</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="installation-de-base-sur-un-serveur-debian">Installation de base sur un serveur Debian</h1>
<h2 id="introduction">Introduction</h2>
<p>Ceci montre les éléments de base à configurer sur un serveur Debian. Ces éléments permettent de gérer un serveur avec la commande <code>sudo</code>et d’installer un éditeur de texte plus pratique que <code>nano</code>.</p>
<h2 id="pendant-linstallation">Pendant l’installation</h2>
<h3 id="utilisation-de-tasksel">Utilisation de tasksel</h3>
<div class="important">
<p>Lisez bien ce paragraphe jusqu’au bout <strong>avant d’appuyer sur la moindre touche</strong> et éviter ainsi d’avoir à repartir de <code>zéro</code></p>
</div>
<p>A la fin de l’installation, vous verrez apparaître la fenêtre suivante:</p>
<figure>
<img src="images/tasksel.png" alt="Task Selector Debian" /><figcaption>Task Selector Debian</figcaption>
</figure>
<p><strong>Instructions d’utilisation</strong></p>
<ul>
<li>Sélectionner une ligne avec les flèches haut/bas</li>
<li>Cocher/décocher avec la barre <code>Espace</code></li>
<li><strong>Attention</strong> la touche <code>Entrée</code> valide directement les choix.</li>
</ul>
<div class="information">
<ul>
<li>Dé-sélectionner <strong>Debian desktop environment</strong></li>
<li>Sélectionnez uniquement <code>SSH server</code> et <code>System standard utilities</code></li>
<li>dé-sélectionner tout le reste</li>
<li><strong>vérifier</strong> avant d’appuyer sur la touche <code>Entrée</code></li>
</ul>
</div>
<h2 id="installation-sudo">Installation sudo</h2>
<p>Sudo permet de prendre les droits super-utilisateur tout en contrôlant finement ces droits. De plus il permet de garder une trace de ces opérations dans les log, ce qui responsabilise les personnes ayant ces droits.</p>
<p>Ces personnes sont appelées <em>sudoers</em>. Elles le deviennent dès qu’elles sont ajoutées au groupe <code>sudo</code>.</p>
<p>Pour l’installation, vous devez vous connecter en tant que <code>root</code> :</p>
<ul>
<li>soit en vous connectant directement</li>
<li>soit en utilisant la commande <code>su -</code></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co">#Installation</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="ex">apt-get</span> install sudo</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#Ajout de l&#39;utilisateur au groupe sudo</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="ex">adduser</span> <span class="op">&lt;</span>VOTRE UTILISATEUR<span class="op">&gt;</span> sudo</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="fu">sudo</span> -u <span class="op">&lt;</span>VOTRE UTILISATEUR<span class="op">&gt;</span> echo bonjour</a></code></pre></div>
<p>Remplacer <code>&lt;VOTRE UTILISATEUR&gt;</code> par le vrai identifiant de votre utilisateur. Par exemple: <code>paul</code></p>
<div class="warning">
<p>Se déconnecter de l’utilisateur <code>root</code>.</p>
<p>Se déconnecter de l’utilisateur <code>&lt;VOTRE UTILISATEUR&gt;</code>. Ceci est nécessaire pour que <code>&lt;VOTRE UTILISATEUR&gt;</code> soit effectivement ajouté au groupe <code>sudo</code> (il ne le sera pas pour une session déjà ouverte).</p>
<p>Se reconnecter avec <code>&lt;VOTRE UTILISATEUR&gt;</code>.</p>
</div>
<h2 id="installation-ne">Installation ne</h2>
<p><code>ne</code> (Nice Editor) est un éditeur de texte ayant une ergonomie plus simple pour les personnes peu habituées à Linux. Ce paragraphe illustre l’installation de <code>ne</code> ou de n’importe quel autre paquet.</p>
<h3 id="pour-les-systèmes-installés-à-partir-des-dvd">Pour les systèmes installés à partir des DVD</h3>
<p>Si vous avez installé votre système à partir des DVD, vous devez réaliser les opérations suivantes. Sinon, ce n’est pas nécessaire <strong>sauf si vous souhaitez ajouter les paquets <code>non-free</code> (non libres)</strong>.</p>
<p>Plus d’informations sont disponibles sur les fichiers <code>sources.list</code> ici : <a href="https://wiki.debian.org/fr/SourcesList" class="uri">https://wiki.debian.org/fr/SourcesList</a> (faire une recherche avec les mots : <code>debian apt source</code>)</p>
<p>Editer le fichier <code>/etc/apt/sources.list</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">sudo</span> nano /etc/apt/sources.list</a></code></pre></div>
<p>Commenter les lignes commençant par <code>deb http://security.debian.org</code> et <code>deb-src http://security.debian.org/</code></p>
<div class="information">
<p>Avant de continuer, vérifier la version de votre distribution en examinant le contenu du fichier <code>/etc/os-release</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1">$ <span class="fu">cat</span> /etc/os-release</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="va">PRETTY_NAME=</span><span class="st">&quot;Debian GNU/Linux 9 (stretch)&quot;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="va">NAME=</span><span class="st">&quot;Debian GNU/Linux&quot;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="va">VERSION_ID=</span><span class="st">&quot;9&quot;</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="va">VERSION=</span><span class="st">&quot;9 (stretch)&quot;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="va">ID=</span>debian</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="va">HOME_URL=</span><span class="st">&quot;https://www.debian.org/&quot;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="va">SUPPORT_URL=</span><span class="st">&quot;https://www.debian.org/support&quot;</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="va">BUG_REPORT_URL=</span><span class="st">&quot;https://bugs.debian.org/&quot;</span></a></code></pre></div>
<p>La ligne <code>VERSION</code> indique le nom de code qui est à reprendre dans le fichier <code>sources.list</code> ci-dessous.</p>
</div>
<p>Rajouter les lignes suivantes (d’après <a href="https://wiki.debian.org/fr/SourcesList" class="uri">https://wiki.debian.org/fr/SourcesList</a>).</p>
<pre><code>deb http://deb.debian.org/debian stretch main contrib non-free
deb-src http://deb.debian.org/debian stretch main contrib non-free

deb http://deb.debian.org/debian stretch-updates main contrib non-free
deb-src http://deb.debian.org/debian stretch-updates main contrib non-free

deb http://security.debian.org/ stretch/updates main contrib non-free
deb-src http://security.debian.org/ stretch/updates main contrib non-free</code></pre>
<p>Les paquets <code>non-free</code> sont les paquets non libres de droits intellectuels.</p>
<div class="important">
<p>Avant de continuer, vérifier que le nom de code dans le fichier <code>sources.list</code> correspond à celui de la version installée.</p>
</div>
<h3 id="mise-à-jour-apt">Mise à jour apt</h3>
<p>Ceci permet de mettre à jour la base de données locale des dépendances. À faire avant toute nouvelle installation si vous ne l’avez pas fait dans les dernières 24h.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="fu">sudo</span> apt-get update</a></code></pre></div>
<h3 id="installation">Installation</h3>
<p>L’installation du paquet proprement dite se fait avec la commande suivante:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="fu">sudo</span> apt-get install ne</a></code></pre></div>
<h1 id="arrêt-du-système">Arrêt du système</h1>
<h2 id="commande-darrêt">Commande d’arrêt</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="fu">sudo</span> shutdown -h now</a></code></pre></div>
<h3 id="alternative">Alternative</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="fu">sudo</span> halt</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># Parfois, elle ne stoppe pas l&#39;alimentation électrique de la machine</span></a></code></pre></div>
<h2 id="commande-de-redémarrage">Commande de redémarrage</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="fu">sudo</span> shutdown -h now</a></code></pre></div>
<h3 id="alternative-1">Alternative</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="fu">sudo</span> reboot</a></code></pre></div>
</body>

<!-- Mirrored from linux.risr17.aezi.fr/1-installation-de-base-Debian.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Jul 2018 09:08:17 GMT -->
</html>
